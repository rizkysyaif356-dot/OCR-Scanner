<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCR Pro Cloud Sync</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü§ñ</text></svg>">
    <link rel="stylesheet" href="style.css">    
    <script src='https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>

<div class="logout-container" onclick="handleLogout()">
    <i class="fas fa-power-off"></i>
    <span>LOGOUT</span>
</div>

<div id="mySidebar" class="sidebar">
    <a href="javascript:void(0)" class="closebtn" onclick="toggleSidebar()">√ó</a>
    
    <a onclick="showSection('absensi')" style="color: #f1c40f; font-weight: bold;">
        <i class="fas fa-clipboard-check"></i> üìã Absensi Harian
    </a>
    
    <hr style="border: 0.5px solid rgba(255,255,255,0.1); margin: 10px 0;">

    <a onclick="showSection('scanner')" class="menu-item locked">üè† Dashboard Scanner</a>
    <a onclick="showSection('pelengkap')" class="menu-item locked">üõ†Ô∏è Pelengkap Operasional</a>
    <a onclick="showSection('kalkulator')" class="menu-item locked">üßÆ Kalkulator Cepat</a>
</div>
    

<div class="header-controls"></div>
    <div class="menu-btn" onclick="toggleSidebar()">‚ò∞ Menu</div>    
    <div class="launch-btn" onclick="bukaSemuaLink()">üöÄ Launch Apps</div>

    <section id="absensi" class="content-section">
    <div class="container" style="text-align: center; padding: 50px;">
        <h2 style="color: var(--primary-gold);">üîê AKSES TERKUNCI</h2>
        <p>Halo, <strong>MASTER</strong>. Demi keamanan operasional, silakan konfirmasi kehadiran Anda terlebih dahulu sebelum mengakses fitur Scanner.</p>
        <br>
        <div style="background: rgba(255,255,255,0.05); padding: 30px; border-radius: 15px; display: inline-block;">
            <p style="font-size: 14px; color: #ccc;">Klik tombol di bawah untuk membuka gembok sidebar:</p>
            <button class="btn-absen" onclick="selesaikanAbsen()" style="background: #27ae60; color: white; padding: 15px 40px; border-radius: 50px; font-size: 16px; border: none; cursor: pointer; font-weight: bold; margin-top: 10px;">
                ‚úÖ KONFIRMASI HADIR & BUKA AKSES
            </button>
        </div>
    </div>
</section>

    <section id="scanner" class="content-section">
        <div class="container">
            <h2 style="text-align:center">DIGITAL SCANNER PRO</h2>
            <div class="split-layout">
                <div class="panel image-panel">
                    <p id="status" style="color: var(--primary-gold); font-weight: bold;">Siap...</p>
                    <input type="file" id="imageInput" accept="image/*" style="color:white; margin-bottom: 10px;"><br>
                    <img id="uploadedImage" src="#">
                    <p style="font-size: 12px; color: #aaa;">Paste Screenshot (Ctrl+V)</p>
                    <div id="outputText">---</div>
                    <button id="copyBtn" onclick="copyResultText()">Copy Code</button>
                </div>

                <div class="panel history-panel">
                    <h3 style="margin-top:0; color: var(--success-green); font-size: 16px;">üìú Recent History (Live)</h3>
                    <div id="historyList"></div>
                    <button class="btn-delete" onclick="clearAllHistory()">üî• Hapus Semua Riwayat</button>
                </div>
            </div>
<div class="character-dock">
    <div class="dock-title">Character Crew</div>
    <div class="icon-list">
        <div class="icon-item" onclick="changeTheme(this)" data-bg="https://i.imgur.com/c3RfkfJ.jpeg">
            <img src="https://i.imgur.com/c3RfkfJ.jpeg" alt="Huang">
            <span>Huang</span>
        </div>
        
        <div class="icon-item" onclick="changeTheme(this)" data-bg="https://i.imgur.com/wYJ38mc.png">
            <img src="https://i.imgur.com/wYJ38mc.png" alt="WangLin">
            <span>WangLin</span>
        </div>
        
        <div class="icon-item" onclick="changeTheme(this)" data-bg="https://i.imgur.com/k71LkXA.jpeg">
            <img src="https://i.imgur.com/k71LkXA.jpeg" alt="Hanli">
            <span>Hanli</span>
        </div>
        
        <div class="icon-item" onclick="changeTheme(this)" data-bg="https://i.imgur.com/cJa9sMp.png">
            <img src="https://i.imgur.com/cJa9sMp.png" alt="Chenan">
            <span>Chenan</span>
        </div>
        
        <div class="icon-item" onclick="changeTheme(this)" data-bg="https://i.imgur.com/aLMDdZt.jpeg">
            <img src="https://i.imgur.com/aLMDdZt.jpeg" alt="Xiao Yan">
            <span>Xiao Yan</span>
        </div>

        <div class="icon-item" onclick="changeTheme(this)" data-bg="DEFAULT">
    <img src="https://i.imgur.com/S594PkR.gif" alt="Reset">
    <span>Default</span>
</div>
    </div>
</div>
        </div>
    </section>

    <section id="pelengkap" class="content-section">
        <div class="container">
            <h2>üõ†Ô∏è Pelengkap Operasional</h2>
            <button onclick="fetchPelengkap()" style="background: #2ecc71; color: white; font-size: 12px; margin-bottom: 10px; padding: 8px;">üîÑ Refresh Data Cloud</button>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th width="30%">Kendala</th>
                            <th width="60%">Penjelasan</th>
                            <th width="10%">Aksi</th>
                        </tr>
                    </thead>
                    <tbody id="pelengkapTableBody">
                        <tr><td colspan="3" style="text-align:center">Memuat data...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

<section id="kalkulator" class="content-section">
    <div class="container" style="max-width: 550px;">
        <h2 style="text-align:center; color: var(--primary-gold); margin-bottom: 25px;">üßÆ KALKULATOR HADIAH</h2>
        
        <div class="calc-container">
            <label class="calc-label">üí∞ NOMINAL BETTINGAN (RP)</label>
            <input type="number" id="nilaiA" class="calc-input-field" placeholder="Ketik nominal..." oninput="calculate()">

            <label class="calc-label">üèÜ KATEGORI HADIAH</label>
            <select id="calcType" class="calc-select-field" onchange="calculate()">
                <option value="">-- Pilih Jenis --</option>
                <option value="full">HADIAH FULL (4D/3D/2D)</option>
                <option value="discount">HADIAH DISKON</option>
                <option value="bolakTepat">HADIAH BB TEPAT</option>
                <option value="bolakTidak">HADIAH BB TIDAK TEPAT</option>
                <option value="prize1">PRIZE 1 ONLY</option>
                <option value="prize2">PRIZE 2 ONLY</option>
                <option value="prize3">PRIZE 3 ONLY</option>
                <option value="colok">COLOK LENGKAP (BEBAS/NAGA/JITU)</option>
            </select>
        </div>

        <div id="calcResultsArea" style="margin-top: 25px;">
            </div>
    </div>
</section>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
<script src="script.js"></script>
<div id="ai-assistant" class="ai-container">
    <div id="ai-bubble" class="speech-bubble">Siap memantau!</div>
    <div id="ai-robot" class="robot-icon">ü§ñ</div>
</div>

<style>
.ai-container {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 9999;
    transition: all 0.5s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.robot-icon {
    font-size: 50px;
    filter: drop-shadow(0 0 10px rgba(0,255,0,0.5));
}

/* Animasi jika gambar ERROR (Bergerak gelisah) */
.panic-mode {
    animation: shake 0.5s infinite;
}

/* Animasi jika gambar BAGUS (Melompat senang) */
.happy-mode {
    animation: jump 1s infinite;
}

.speech-bubble {
    background: #2c3e50;
    color: white;
    padding: 12px 18px;
    border-radius: 20px;
    margin-bottom: 15px;
    font-size: 14px;
    font-weight: bold;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    border: 2px solid var(--primary-gold);
    max-width: 200px;
    text-align: center;
}

@keyframes shake {
    0% { transform: translate(1px, 1px) rotate(0deg); }
    20% { transform: translate(-3px, 0px) rotate(-5deg); }
    80% { transform: translate(3px, 2px) rotate(5deg); }
    100% { transform: translate(1px, -1px) rotate(0deg); }
}

@keyframes jump {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
}
</style>

<div id="ai-chat-widget">
    <button id="ai-chat-button" onclick="toggleChat()">
        <i class="fas fa-comments"></i>
    </button>

    <div id="ai-chat-window" class="chat-hidden">
    <div class="chat-header">
    <span><i class="fas fa-edit"></i> CATATAN TUGAS</span>
    
    <div style="display: flex; gap: 15px; align-items: center;">
        <i class="fas fa-trash-alt" onclick="clearNotes()" style="cursor: pointer; color: #e74c3c; font-size: 16px;" title="Hapus Semua"></i>
        
        <span onclick="toggleChat()" style="cursor: pointer; font-size: 24px; color: white; line-height: 1;">&times;</span>
    </div>
</div>
    
    <div id="chat-messages" class="bubble-container">
        </div>

    <div class="chat-input-area">
        <input type="text" id="user-input" placeholder="Ketik catatan..." onkeypress="handleKeyPress(event)">
        <button onclick="addQuickNote()"><i class="fas fa-paper-plane"></i></button>
    </div>
</div>
</div>
</div>


</body>
</html>
